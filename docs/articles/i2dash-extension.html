<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating an extension package for i2dash • i2dash</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating an extension package for i2dash">
<meta property="og:description" content="i2dash">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">i2dash</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/i2dash-intro.html">Creating iterative and interactive dashboards with i2dash</a>
    </li>
    <li>
      <a href="../articles/i2dash-extension.html">Creating an extension package for i2dash</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/loosolab/i2dash/">
    <span class="fab fa fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><script src="i2dash-extension_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="i2dash-extension_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="i2dash-extension_files/anchor-sections-1.0/anchor-sections.js"></script><link href="i2dash-extension_files/font-awesome-5.1.0/css/all.css" rel="stylesheet">
<link href="i2dash-extension_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating an extension package for i2dash</h1>
                        <h4 class="author">Jens Preussner</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:jens.preussner@mpi-bn.mpg.de" class="email">jens.preussner@mpi-bn.mpg.de</a>

                              <h4 class="author">Arsenij Ustjanzew</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:arsenij.ustjanzew@gmail.com" class="email">arsenij.ustjanzew@gmail.com</a>


            <h4 class="date">3 November 2020</h4>

      <small class="dont-index">Source: <a href="https://github.com/loosolab/i2dash/blob/master/vignettes/i2dash-extension.Rmd"><code>vignettes/i2dash-extension.Rmd</code></a></small>
      <div class="hidden name"><code>i2dash-extension.Rmd</code></div>

    </div>



<p>Vignette last complied on 2020-11-03. i2dash is licenced under MIT + file LICENSE.</p>
<p><img src="images/i2dash_logo.png" align="center" width="150px"></p>
<div id="introduction-and-scope" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-and-scope" class="anchor"></a>Introduction and scope</h1>
<p>i2dash allows to programmatically generate interactive and flexible web-based dashboards. At its heart, the <code>i2dashboard</code> class acts as the basic framework for managing metadata, input and pages. Currently i2dash supports plain text, images, R objects, such as HTML widgets, and functions as input. Such functions can be used to generate fully customized dashboard content, for example very specific and customizable visualizations. This allows data from specific disciplines to be visualized in a targeted manner and component functionality to be adapted to the needs of different users. Thus we used the principle to develop extensions shown below and created the package <a href="https://loosolab.github.io/i2dash.scrnaseq/">i2dash.scrnaseq</a>, which allows the visualization and exploration of single-cell RNA-seq data.</p>
<p>Besides flexibility, advantages of using functions are their reusability, the possibility to implement interactivity and the possibility to extend to entire pages.</p>
<p>In this vignette we will show how to extend the functionality of i2dash. We will develop a reusable component, that contains an interactive 3D scatter plot. In the ‘interactive’ mode of the dashboard the user can additionally select the data plotted on the axes. We chose to implement the extension in its own R package, which allows good code organization and easy sharing with others.</p>
<div class="figure">
<img src="images/scatter3D_result_shiny.png" alt="Figure 1: Final customized and reusable component with Shiny input widgets." width="474"><p class="caption">
Figure 1: Final customized and reusable component with Shiny input widgets.
</p>
</div>
<div id="availability" class="section level2">
<h2 class="hasAnchor">
<a href="#availability" class="anchor"></a>Availability</h2>
<p>The directories, files and code created during this vignette is also available for download from <a href="https://s3.mpi-bn.mpg.de/data-i2dash-2020/MyExtension.zip">our S3 storage</a>.</p>
</div>
<div id="directory-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#directory-structure" class="anchor"></a>Directory structure</h2>
<p>For the new extension, we set up a directory structure of a source package (if you want to learn more about package structure, see <a href="https://r-pkgs.org/package-structure-state.html">here</a>).</p>
<p>In figure 2 you can see that the folder ‘MyExtension’ contains subfolders ‘R’, ‘inst’, and ‘man’. The ‘R’ folder contains the R scripts and functions. The Rmarkdown template of our component is stored under ‘MyExtension/inst/templates/’. Further the folder ‘MyExtension’ contains important metadata files, e.g. ‘DESCRIPTION’.</p>
<div class="figure">
<img src="images/file_structure.png" alt="Figure 2: Directory structure for an extension R package." width="224"><p class="caption">
Figure 2: Directory structure for an extension R package.
</p>
</div>
<p>The easiest way to create the desired structure in RStudio is to click <strong>File</strong> -&gt; <strong>New Project</strong>. In the dialog we select <strong>New Directory</strong>, then <strong>R Package</strong>.</p>
<div class="figure">
<img src="images/RStudio_new_project.png" alt="Figure 3: ...." width="264"><p class="caption">
Figure 3: ….
</p>
</div>
<div class="figure">
<img src="images/RStudio_new_project2.png" alt="Figure 4: ....." width="266"><p class="caption">
Figure 4: …..
</p>
</div>
<p>To conclude, we set a package name, select the directory, where the new package structure will be created and click on <strong>Create Project</strong>.</p>
<div class="figure">
<img src="images/RStudio_new_project3.png" alt="Figure 5: ...." width="265"><p class="caption">
Figure 5: ….
</p>
</div>
<p>RStudio creates the directory and several metadata files. To make this directory look like the one in figure 2, we delete the file ‘hello.R’ from the ‘R’ folder and create the subfolder ‘templates’ under ‘inst’.</p>
</div>
<div id="dependencies-reexport-of-magrittr-pipe-operators" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies-reexport-of-magrittr-pipe-operators" class="anchor"></a>Dependencies &amp; reexport of magrittr pipe operators</h2>
<p>In the further course of this tutorial we need to install the following packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"i2dash"</span>,<span class="st">"magrittr"</span>,<span class="st">"dplyr"</span>,<span class="st">"assertive.types"</span>,<span class="st">"plotly"</span><span class="op">)</span><span class="op">)</span></pre></div>
<p>Also, we need to create the file ‘reexports.R’ and reexport the pipe-operators of the magrittr package. In the ‘reexports.R’ file we write the following code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co">#' magrittr forward-pipe operator</span>
<span class="co">#'</span>
<span class="co">#' See \code{\link[magrittr]{\%&gt;\%}}.</span>
<span class="co">#' @name %&gt;%</span>
<span class="co">#' @importFrom magrittr %&gt;%</span>
<span class="co">#' @export %&gt;%</span>
<span class="cn">NULL</span>

<span class="co">#' magrittr forward-backward-pipe operator</span>
<span class="co">#'</span>
<span class="co">#' See \code{\link[magrittr]{\%&lt;&gt;\%}}.</span>
<span class="co">#' @name %&lt;&gt;%</span>
<span class="co">#' @importFrom magrittr %&lt;&gt;%</span>
<span class="co">#' @export %&lt;&gt;%</span>
<span class="cn">NULL</span></pre></div>
</div>
<div id="concept-of-extensibility" class="section level2">
<h2 class="hasAnchor">
<a href="#concept-of-extensibility" class="anchor"></a>Concept of extensibility</h2>
<p>The ability of i2dash to generate R Markdown code can be extended with additional packages. Figure 6 demonstrates the concept of extensibility. In order to develop a component or a page with a pre-defined layout and specific composition of components as an extension, the developer needs to provide a method and an R Markdown template. The method takes the i2dashboard object and the data relevant for the component. It validates and stores the data in a suitable data structure in a file (e.g. RDS file). Furthermore the method generates an R Markdown string based on a template for the component or page and extends the i2dashboard object.</p>
<div class="figure">
<img src="images/concept1.png" alt="Figure 6: Concept of extending i2dash." width="500"><p class="caption">
Figure 6: Concept of extending i2dash.
</p>
</div>
<p>Figure 7 shows this principle applied to our objectives. The method ‘scatter3D’ will be stored in the ‘scatter3d.R’ file. When the user applies this method, to add the component to his dashboard, the method will use the Rmarkdown template stored in the file ‘scatter3D.R’ to generate the component.</p>
<div class="figure">
<img src="images/concept2.png" alt="Figure 7: Our example project applied to this concept." width="500"><p class="caption">
Figure 7: Our example project applied to this concept.
</p>
</div>
</div>
</div>
<div id="main-function" class="section level1">
<h1 class="hasAnchor">
<a href="#main-function" class="anchor"></a>Main function</h1>
<p>Now we create a new file ‘scatter3D.R’ and write the function that evaluates the input and saves it in an .Rds file for this component. The input for this function is:</p>
<ul>
<li>
<strong>i2dashboard</strong>: the i2dashboard class object to add the component.</li>
<li>
<strong>x</strong>, <strong>y</strong>, <strong>z</strong>, <strong>colour</strong>: This is the data used to plot in the graph. The user can provide nuemric vectors or data.frames. If data.frames are provided, the columns are the possible selection options in the Shiny dropdown menues.</li>
<li>
<strong>title</strong>, <strong>x_title</strong>, <strong>y_title</strong>, <strong>z_title</strong>: With these parameters the dashboard creator can further customize the component. These parapeters are optional and should be characters.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co">#' Validate the data and create a Rmd string of a component containing a 3D scatter plot.</span>
<span class="co">#'</span>
<span class="co">#' @param i2dashboard The i2dashboard class object.</span>
<span class="co">#' @param x Numeric observations mapped to the x-axis (numeric vector or data.frame).</span>
<span class="co">#' @param y Numeric observations mapped to the y-axis (numeric vector or data.frame).</span>
<span class="co">#' @param z Numeric observations mapped to the z-axis (numeric vector or data.frame).</span>
<span class="co">#' @param x_title The title of the x-axis.</span>
<span class="co">#' @param y_title The title of the y-axis.</span>
<span class="co">#' @param z_title The title of the z-axis.</span>
<span class="co">#' @param colour The title of the y-axis.</span>
<span class="co">#' @param title The title of the component</span>
<span class="co">#'</span>
<span class="co">#' @return An Rmarkdown sting for the rendered component.</span>
<span class="co">#' @export</span>
<span class="va">scatter3D</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">i2dashboard</span>, <span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span>, <span class="va">colour</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">x_title</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">y_title</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">z_title</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">title</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span><span class="op">{</span>
  <span class="co"># see contetent below </span>
<span class="op">}</span></pre></div>
<p>Inside the function, we need to validate the input:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://bitbucket.org/richierocks/assertive.types">assertive.types</a></span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

  <span class="co"># validate required parameters</span>

  <span class="co"># convert vectors to data.frames:</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">x</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">y</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">)</span> <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Z <span class="op">=</span> <span class="va">z</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">is.factor</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span><span class="op">)</span> <span class="va">colour</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">"colour"</span> <span class="op">&lt;-</span> <span class="va">colour</span><span class="op">)</span>

  <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_data.frame.html">assert_is_data.frame</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
  <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_data.frame.html">assert_is_data.frame</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
  <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_data.frame.html">assert_is_data.frame</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span>

  <span class="co"># select columns only containing numeric or integer values</span>
  <span class="va">x</span> <span class="op">%&lt;&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span>
  <span class="va">y</span> <span class="op">%&lt;&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span>
  <span class="va">z</span> <span class="op">%&lt;&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># provide column names</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"X_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Y_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Z_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># check correct dimensions</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"The number of rows in 'x' and 'y' is not equal."</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"The number of rows in 'x' and 'z' is not equal."</span><span class="op">)</span>

  <span class="co"># validate optional parameters</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
    <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_data.frame.html">assert_is_data.frame</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span>
    <span class="va">colour</span> <span class="op">%&lt;&gt;%</span>
      <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">is.integer</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">is.factor</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span>
    <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Color_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span><span class="op">)</span>
    <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"The number of rows in 'x' and 'colour' is not equal."</span><span class="op">)</span>
  <span class="op">}</span>
  <span class="co"># check titles</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_character.html">is_character</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x_title</span><span class="op">)</span><span class="op">)</span> <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_character.html">is_character</a></span><span class="op">(</span><span class="va">x_title</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">y_title</span><span class="op">)</span><span class="op">)</span> <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_character.html">is_character</a></span><span class="op">(</span><span class="va">y_title</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">z_title</span><span class="op">)</span><span class="op">)</span> <span class="fu">assertive.types</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/assertive.types/man/is_character.html">is_character</a></span><span class="op">(</span><span class="va">z_title</span><span class="op">)</span></pre></div>
<p>Then the input is saved into an .Rds file. The <code>title</code> of the component as well as the <code>env_id</code> are not saved and will be provided as characters by knitting the template.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
  <span class="co"># Create random env id</span>
  <span class="va">env_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"env_"</span>, <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_rand_strings.html">stri_rand_strings</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, pattern <span class="op">=</span> <span class="st">"[A-Za-z0-9]"</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># Create component environment and save as .rds file</span>
  <span class="va">env</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html">new.env</a></span><span class="op">(</span><span class="op">)</span>
  <span class="va">env</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span>
  <span class="va">env</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span>
  <span class="va">env</span><span class="op">$</span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">z</span>
  <span class="va">env</span><span class="op">$</span><span class="va">colour</span> <span class="op">&lt;-</span> <span class="va">colour</span>
  <span class="va">env</span><span class="op">$</span><span class="va">x_title</span> <span class="op">&lt;-</span> <span class="va">x_title</span>
  <span class="va">env</span><span class="op">$</span><span class="va">y_title</span> <span class="op">&lt;-</span> <span class="va">y_title</span>
  <span class="va">env</span><span class="op">$</span><span class="va">z_title</span> <span class="op">&lt;-</span> <span class="va">z_title</span>

  <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">env</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">i2dashboard</span><span class="op">@</span><span class="va">datadir</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">env_id</span>, <span class="st">".rds"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></pre></div>
<p>The ‘scatter3D’ function saves the data in an environment file and uses the ‘scatter3D.Rmd’ template to render the R Markdown string i.e. replacing the placeholders in the template. In this case, the placeholder {{ title }} is replaced by the provided title string and {{ env_id }} is replaced by the random generated ID used for naming of the saved environment file.</p>
<p>At the end of the function we return the rendered R markdown string of the component.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
  <span class="co"># Generate the Rmarkdown string of the component based on the template</span>
  <span class="va">timestamp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
  <span class="va">expanded_component</span> <span class="op">&lt;-</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit_expand.html">knit_expand</a></span><span class="op">(</span>
    file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"templates"</span>, <span class="st">"scatter3D.Rmd"</span>, package <span class="op">=</span> <span class="st">"MyExtension"</span><span class="op">)</span>,
    title <span class="op">=</span> <span class="va">title</span>,
    env_id <span class="op">=</span> <span class="va">env_id</span>,
    date <span class="op">=</span> <span class="va">timestamp</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">expanded_component</span><span class="op">)</span></pre></div>
</div>
<div id="template-of-the-component" class="section level1">
<h1 class="hasAnchor">
<a href="#template-of-the-component" class="anchor"></a>Template of the component</h1>
<p>In the next step, we create an Rmarkdown template file of the scatter3D component under ‘inst/templates/scatter3D.Rmd’. At the top of this document the ‘title’ in curved brackets will be replaced by the provided title during knitting. Also the ‘env_id’ will be replaced and the correct .rds file will be read in. ‘is_shiny’ contains a logical whether the i2dashboard is interactive and should use shiny or not. Whether the dashboard is interactive or not is defined by the dashboard creator during the initialisation of the dashboard (the parameter <code>interactive</code> of the <code><a href="../reference/i2dashboard-class.html">i2dash::i2dashboard()</a></code> function). This is the first code chunk of the ‘scatter3D.Rmd’ file:</p>
<pre><code>
### {{ title }}

```{r}
{{ env_id }} </code></pre>
<div id="the-static-mode" class="section level2">
<h2 class="hasAnchor">
<a href="#the-static-mode" class="anchor"></a>The static mode</h2>
<p>In this section, we will write the code chunk responsible for the static mode of the dashboard. The plotly plot will be interactive but there are no drop-down selections for selecting the data. The first column of each input data.frame (<strong>x</strong>, <strong>y</strong>, <strong>z</strong>, <strong>colour</strong>) will be used as the data for the 3D scatter plot.</p>
<div class="figure">
<img src="images/scatter3D_result_static.png" alt="Figure 8: ...." width="475"><p class="caption">
Figure 8: ….
</p>
</div>
<p>The following R code chunk is also in the same file <code>scatter3D.Rmd</code>. This code chunk will be executed, if Shiny is not used.</p>
<p>All variables we define in this code chunk should be unique. This is made possible by using the env_id in the curved brackets. During the knitting process, <code>{{ env_id }}</code> will be replaced by the ‘real’ env_id and the variable names will be valid in the final R markdown string. Therefore, we can ignore RStudio warnings.</p>
<p>First we set the variables for <code>x</code>, <code>y</code>, <code>z</code>, <code>x_title</code>, <code>y_title</code>, and <code>z_title</code>. If the user had not provided his own titles, the names of the first column of <code>x</code>, <code>y</code> and <code>z</code> are used as the titles. If <code>colour</code> was provided the first column will be used as the input vector.</p>
<p>Next, the plotly chart is created by the <code><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plotly::plot_ly()</a></code> function. Finally a data.frame is created, that will be then provided as download.</p>
<pre>
```{r, eval=!is_shiny}
# set variables
# the first column is always used
x_{{ env_id }} %
  plotly::add_markers() %&gt;%
  plotly::layout(scene = list(
    xaxis = list(title = x_title_{{ env_id }}),
    yaxis = list(title = y_title_{{ env_id }}),
    zaxis = list(title = z_title_{{ env_id }})
  ))

# Provide data for download
if(is.null(colour_{{ env_id }})){
  df_{{ env_id }}
<div id="installing-testing-the-static-mode" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-testing-the-static-mode" class="anchor"></a>Installing &amp; testing the static mode</h3>
<p>Since we now have a lot of code, it makes sense to test if everything works so far. To do this we first have to generate the documentation of the package with the function <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code>. and then we install the package with <code><a href="https://devtools.r-lib.org//reference/install.html">devtools::install()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/document.html">document</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/install.html">install</a></span><span class="op">(</span><span class="st">"."</span>, quick <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p>In a separate R file we create an i2dashboard object, add our component with <code><a href="../reference/add_component.html">add_component()</a></code>, define the input and assemble the dashboard to a Rmarkdown file. If these steps have thrown no errors, half of our project has succeeded.</p>
<p>If we can open the newly generated file ‘MyDashboard.Rmd’ in RStudio and then view its contents in a web browser, this means that the template code also works. (Unfortunately, the 3D scatter plot of plotly is not displayed in the RStudio Viewer, so we need to view the file in the browser.)</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">magrittr</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://loosolab.github.io/i2dash/">i2dash</a></span><span class="op">)</span>

<span class="co"># Create i2dashboard object</span>
<span class="co"># &amp; add the component to the default page</span>
<span class="va">MyDashboard</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/i2dashboard-class.html">i2dashboard</a></span><span class="op">(</span>
  title<span class="op">=</span> <span class="st">"Test extension"</span>,
  datadir <span class="op">=</span> <span class="st">"."</span>,
  interactive <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/add_component.html">add_component</a></span><span class="op">(</span>
  component <span class="op">=</span> <span class="fu">MyExtension</span><span class="fu">::</span><span class="va">scatter3D</span>,
  x <span class="op">=</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">mpg</span>,
  y <span class="op">=</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">wt</span>,
  z <span class="op">=</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">hp</span>,
  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span>,
  title <span class="op">=</span> <span class="st">"My component"</span><span class="op">)</span>

<span class="co"># Assemble the dashboard</span>
<span class="fu"><a href="../reference/assemble.html">assemble</a></span><span class="op">(</span><span class="va">MyDashboard</span>, file <span class="op">=</span> <span class="st">"MyDashboard.Rmd"</span><span class="op">)</span></pre></div>
</div>
</pre>
</div>
<div id="the-interactive-mode-with-r-shiny" class="section level2">
<h2 class="hasAnchor">
<a href="#the-interactive-mode-with-r-shiny" class="anchor"></a>The interactive mode with R Shiny</h2>
<p>By adding Shiny to a flexdashboard, we create a dashboard that enables the user to change underlying parameters and see the results immediately. In our case we provide the possibility to select the values that should be mapped to the x-, y- and z-axis as well as the values, that should be used for the colouring.</p>
<p>A Shiny application consists of two parts, a user interface (UI) function, and a server function. The UI determines the structure and layout of the application and can contain HTML elements or input widgets for user-application interaction. Shiny also provides a group of functions that convert R objects into output widgets that are displayed on the UI. The server function defines the server-side logic of the Shiny application and is the “live” connection between input values on the client and outputs generated on the web server. The server function contains functions that map user inputs to various kinds of output.</p>
<p>In a flexdashboard the code for the UI as well as the server code can be used within the same code chunk.The webpage of flexdashboard provides a good description how to use Shiny with flexdashboard (see <a href="https://pkgs.rstudio.com/flexdashboard/shiny.html">here</a>).</p>
<div class="figure">
<img src="images/scatter3D_result_shiny.png" alt="Figure 9: Final customized and reusable component with Shiny input widgets." width="474"><p class="caption">
Figure 9: Final customized and reusable component with Shiny input widgets.
</p>
</div>
<p>First we create Shiny <code>selectInput()</code> widgets if the target data.frame has more than one column. Also a download button will be provided, so the user can download the data that is used for the created plot.</p>
<p>We handle the inputs by creating a reactive expression for each data.frame. Inside the reactives it is checked, if the data.frame has more than one column. If this is the case, the input values from the <code>selectInput()</code> widgets should be used.</p>
<p>Then a <code>downloadHandler()</code> creates a data.frame containing the currently selected x, y, z and colour values for the download.</p>
<p>Plotly’s function <code>renderPlotly()</code> outputs and renders a plotly object (generatet by the function <code><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plotly::plot_ly()</a></code>) within Shiny. Finally, the UI elements are stored in a dropdown menu created with the package <a href="https://github.com/dreamRs/shinyWidgets">shinyWidgets</a>.</p>
<pre>
```{r, eval=is_shiny}
#
# shiny input widgets
#
ui_list  1){
  ui_list  1){
  ui_list  1){
  ui_list  1)
  ui_list %
  plotly::add_markers() %&gt;%
  plotly::layout(scene = list(
    xaxis = list(title = x_title),
    yaxis = list(title = y_title),
    zaxis = list(title = z_title)
  ))
})

#
# Layout of component
#
shiny::fillRow(flex = c(NA, 1),
      shinyWidgets::dropdownButton(div(style='max-height: 350px; overflow-x: auto;',do.call(shiny::inputPanel, ui_list)),
                       circle = TRUE, status = 'danger', icon = icon('gear'), width = '300px',
                       tooltip = shinyWidgets::tooltipOptions(title = 'Click, to change plot settings:'))
      ,
      plotly::plotlyOutput('plot_{{ env_id }}', height = '100%')
)
```</pre>
<div id="installing-testing-the-interactive-mode" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-testing-the-interactive-mode" class="anchor"></a>Installing &amp; testing the interactive mode</h3>
<p>To test the functionality we have to install the package with devtools as before.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/document.html">document</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/install.html">install</a></span><span class="op">(</span><span class="st">"."</span>, quick <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p>Then we create a new i2dashboard object and add our component to it. This time we pass data.frames as input to the single parameters instead of single numeric vectors. Once the addittion and assemble steps are accomplished, we can open the Rmarkdown document and use RStudio’s “Run Document” button to render the file. In the web browser we should see the result, which is similar to the one in figure 1.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">magrittr</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://loosolab.github.io/i2dash/">i2dash</a></span><span class="op">)</span>

<span class="co"># Create i2dashboard object</span>
<span class="co"># &amp; add the component to the default page</span>
<span class="va">MyDashboard</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/i2dashboard-class.html">i2dashboard</a></span><span class="op">(</span>
  title<span class="op">=</span> <span class="st">"Test extension"</span>,
  datadir <span class="op">=</span> <span class="st">"."</span>,
  interactive <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/add_component.html">add_component</a></span><span class="op">(</span>
  component <span class="op">=</span> <span class="fu">MyExtension</span><span class="fu">::</span><span class="va">scatter3D</span>,
  x <span class="op">=</span> <span class="va">mtcars</span>,
  y <span class="op">=</span> <span class="va">mtcars</span>,
  z <span class="op">=</span> <span class="va">mtcars</span>,
  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span>,
  title <span class="op">=</span> <span class="st">"My component"</span><span class="op">)</span>

<span class="co"># Assemble the dashboard</span>
<span class="fu"><a href="../reference/assemble.html">assemble</a></span><span class="op">(</span><span class="va">MyDashboard</span>, file <span class="op">=</span> <span class="st">"MyDashboard.Rmd"</span><span class="op">)</span></pre></div>
</div>
</div>
</div>
<div id="session-info" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h1>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.0.2 (2020-06-22)</span>
<span class="co">#&gt; Platform: x86_64-w64-mingw32/x64 (64-bit)</span>
<span class="co">#&gt; Running under: Windows 10 x64 (build 19041)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt; [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   </span>
<span class="co">#&gt; [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   </span>
<span class="co">#&gt; [5] LC_TIME=German_Germany.1252    </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt; [1] magrittr_1.5     BiocStyle_2.16.1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] png_0.1-7           rprojroot_1.3-2     digest_0.6.25      </span>
<span class="co">#&gt;  [4] crayon_1.3.4        assertthat_0.2.1    R6_2.5.0           </span>
<span class="co">#&gt;  [7] backports_1.1.9     evaluate_0.14       highr_0.8          </span>
<span class="co">#&gt; [10] stringi_1.5.3       rlang_0.4.8         rstudioapi_0.11    </span>
<span class="co">#&gt; [13] fs_1.5.0            ragg_0.4.0          rmarkdown_2.5      </span>
<span class="co">#&gt; [16] pkgdown_1.6.1       textshaping_0.1.2   desc_1.2.0         </span>
<span class="co">#&gt; [19] tools_4.0.2         stringr_1.4.0       yaml_2.2.1         </span>
<span class="co">#&gt; [22] xfun_0.16           compiler_4.0.2      systemfonts_0.3.2  </span>
<span class="co">#&gt; [25] BiocManager_1.30.10 memoise_1.1.0       htmltools_0.5.0    </span>
<span class="co">#&gt; [28] knitr_1.30</span></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Arsenij Ustjanzew, Jens Preussner, Mario Looso.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>




  </body>
</html>
